Absolutely â€” I baked that rule into the README and also added a clean ASCII ER diagram for quick visual scanning. Hereâ€™s your updated, ready-to-paste `README.md`:

```markdown
# Tapne Platform

**Tapne** is a travel platform MVP with a social twist â€” connecting people, trips, and experiences through curated discovery, detailed trip pages, and profile showcases.  
This repository is the **full-stack monorepo** for Tapne, built with **Nest.js** (backend) and **Next.js App Router** (frontend), sharing code where possible.

---

## ğŸ“– Project Overview

**MVP Pages (5 total):**
1. **Home** *(public)* â€“ Trending & personalized trips/profiles (personalized sections hydrate when logged in)
2. **Search** *(public)* â€“ Trips & profiles (limited metadata); clicking into any result requires login
3. **Trip** *(requires login)* â€“ **Each trip has its own page**; owner CRUD; visitors view, bookmark, review
4. **Profile** *(requires login)* â€“ Showcase with two sections:  
   - **Hero**: profile photo, username, pronouns, bio, travel style, follower/following counts, follow/unfollow  
   - **Body**: upcoming trips, recent reviews received, previously organized trips, past trips attended; owner controls visibility of each section
5. **Account** *(requires login)* â€“ Manage login, password, email, sessions

### ğŸ”’ Access Control (Public vs Authenticated)

Only **Homepage** and **Search** are accessible without authentication. **All other routes require login**.  
Unauthenticated users:
- Can browse Home and Search; Search returns **limited fields** (e.g., trip title, cover thumbnail, organizer username).  
- Are **redirected to login** when attempting to view **Trip**, **Profile**, **Account**, or perform any write action.

> **SEO & Robots**: Gated pages should include `noindex` and be excluded via `robots.txt` rules; OpenGraph tags can be generated but served only after auth.

---

## ğŸ—„ Data Model (Core Entities & Relations)

```

User â”€â”€1â”€â”€â”€1â”€> Profile
â”‚             â”‚
â”‚             â””â”€ visibility settings for profile sections
â”‚
â”œâ”€1â”€â”€â”€Mâ”€> Trip (owner)
â”‚        â”œâ”€1â”€â”€â”€Mâ”€> TripReview (reviews for this trip)
â”‚        â”œâ”€Mâ”€â”€â”€Mâ”€> User (via Bookmark)
â”‚        â””â”€Mâ”€â”€â”€Mâ”€> User (via Participation: past trips attended)
â”‚
â”œâ”€Mâ”€â”€â”€Mâ”€> Trip (via Bookmark)
â”œâ”€Mâ”€â”€â”€Mâ”€> User (via Follow)
â””â”€Mâ”€â”€â”€Mâ”€> User (via Block)

TripReview â”€ reviewer\_user\_id â†’ User
Follow â”€ follower\_user\_id â†’ User, followee\_user\_id â†’ User
Bookmark â”€ user\_id â†’ User, trip\_id â†’ Trip
Participation â”€ user\_id â†’ User, trip\_id â†’ Trip
Report â”€ reporter\_user\_id â†’ User
Block â”€ blocker\_user\_id â†’ User, blocked\_user\_id â†’ User

```

### ğŸ§­ ASCII ER Diagram (High-Level)

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       1        1        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  Profile  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚1
â”‚        owns (1â”€M)
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Trip   â”‚<â”€â”€>â”‚ Bookmark (Mâ”€M Userâ†”Trip) â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚1
â”‚      reviewed by (1â”€M)            attends (Mâ”€M)
â–¼                                   â–²
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚ TripReview  â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Participation (Mâ”€M Userâ†”Trip)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User relations:
â€¢ Follow (Userâ†”User)      â€¢ Block (Userâ†”User)      â€¢ Report (User reports content/user)

````

---

## ğŸ— Architecture

**Backend â€“ Nest.js**
- Scoped logic only in `backend/domains/<domain>/<module>/` (co-located)
- All other backend folders are unscoped (shared, config, etc.)

**Frontend â€“ Next.js App Router**
- Scoped logic only in `frontend/web/features/<feature>/` (co-located)
- All other frontend folders are unscoped (shared, config, etc.)

**Shared**
- `shared/` contains TypeScript code, types, and utilities used by both backend and frontend

---

## ğŸ” Routing & Auth Gatekeeping

**Public routes:** `/` (Home), `/search`  
**Auth-required routes:** `/trip/:id`, `/profile/:username`, `/account`, all API write endpoints.

**Frontend enforcement (Next.js Middleware):**
```ts
// frontend/web/middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

const PUBLIC_PATHS = ['/', '/search', '/api/auth', '/_next', '/assets'];

export function middleware(req: NextRequest) {
  const { pathname } = req.nextUrl;
  const isPublic = PUBLIC_PATHS.some(p => pathname === p || pathname.startsWith(p + '/'));
  if (isPublic) return NextResponse.next();

  const hasSession = Boolean(req.cookies.get('tapne_session')?.value);
  if (!hasSession) {
    const loginUrl = new URL('/account/login', req.url);
    loginUrl.searchParams.set('next', pathname);
    return NextResponse.redirect(loginUrl);
  }
  return NextResponse.next();
}

export const config = {
  matcher: ['/((?!_next|assets).*)'],
};
````

**Backend enforcement (Nest.js Guards):**

* Apply `JwtAuthGuard` to all non-public controllers; expose only health checks and read-only search endpoints publicly.
* Rate-limit public search/read endpoints.

---

## ğŸ“‚ Directory Structure

```
tapne-platform/
â”œâ”€â”€ backend/              # Nest.js backend
â”‚   â””â”€â”€ domains/          # Domain-scoped modules
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ web/              # Next.js App Router frontend
â”‚       â””â”€â”€ features/     # Feature-scoped components & logic
â””â”€â”€ shared/               # Shared code (types, utils, constants)
```

---

## âš™ï¸ Tech Stack

**Backend:** Nest.js, TypeScript
**Frontend:** Next.js (App Router), TypeScript
**Database:** PostgreSQL (recommended)
**Auth:** JWT + email/password (with verification)
**Media Storage:** CDN-backed (e.g., AWS S3 + CloudFront)
**Styling:** Tailwind CSS (recommended for MVP speed)
**Deployment:** Containerized (Docker), CI/CD ready

---

## âœ… Global Must-Haves

* Media uploads (trip cover image, profile photo) with CDN + thumbnailing
* **Auth hygiene:** email verification, password reset, session expiry, rate limiting, CAPTCHA on signup
* **Access policy:** *Only Home and Search are public; all other pages and write actions require login*
* Moderation & abuse handling: report, block/mute, hide flagged content
* Privacy controls: private trips, profile section visibility in search
* Validation rules: one review per user per trip, owners canâ€™t review own trips, unique usernames (case-insensitive), reserved handles
* Pagination & sorting for all lists; SEO-friendly slugs and OpenGraph tags *(noindex on gated pages)*

---

## ğŸš€ Getting Started

### Prerequisites

* Node.js >= 18
* npm or yarn
* PostgreSQL
* Docker (optional but recommended)

### 1. Clone the repository

```bash
git clone https://github.com/<your-org>/tapne-platform.git
cd tapne-platform
```

### 2. Install dependencies

```bash
npm install
# or
yarn install
```

### 3. Environment setup

Create `.env` files for:

* `backend/.env`
* `frontend/web/.env`

Example `.env` for backend:

```env
DATABASE_URL=postgres://user:password@localhost:5432/tapne
JWT_SECRET=supersecret
MEDIA_CDN_URL=https://cdn.example.com
EMAIL_SMTP_URL=smtp://user:pass@smtp.example.com
```

### 4. Run the app (dev mode)

```bash
# Run backend
cd backend
npm run start:dev

# Run frontend
cd ../frontend/web
npm run dev
```

---

## ğŸ§ª Testing

Run unit tests:

```bash
npm run test
```

Run e2e tests:

```bash
npm run test:e2e
```

---

## ğŸ“œ License

MIT License â€“ see [LICENSE](LICENSE) file for details.

---

## ğŸ”– Topics

`travel` `social-platform` `fullstack` `nextjs` `nestjs` `typescript` `monorepo` `mvp` `web-app`

```